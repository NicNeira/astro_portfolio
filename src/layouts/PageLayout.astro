---
import Layout from "@layouts/Layout.astro";

import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";

import type { MetaData } from "@utils/types";
import { getLangFromUrl, useTranslations } from "@utils/i18n";

export interface Props {
  metadata?: MetaData;
}

const { metadata } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Construir rutas seg√∫n el idioma
const basePrefix = lang === "es" ? "" : "/" + lang;
---

<Layout metadata={metadata}>
  <slot name="header">
    <Header
      links={[
        { text: t("nav.home"), href: `${basePrefix}/#` },
        { text: t("about.title"), href: `${basePrefix}/#about` },
        { text: t("experience.title"), href: `${basePrefix}/#resume` },
        { text: t("skills.title"), href: `${basePrefix}/#skills` },
        { text: t("nav.portfolio"), href: `${basePrefix}/#porfolio` },
      ]}
      actions={[
        {
          text: t("nav.contact"),
          href: `${basePrefix}/contact`,
          variant: "primary",
        },
      ]}
      isSticky
      showRssFeed
      position="center"
    />
  </slot>
  <main class="pt-12">
    <slot />
  </main>
  <slot name="footer">
    <Footer
      SiteName="Maximiliano Neira"
      socialLinks={[
        {
          ariaLabel: "LinkedIn",
          icon: "tabler:brand-linkedin",
          href: "https://www.linkedin.com/in/maximiliano-neira-a3b6341b2/",
        },
      ]}
    />
  </slot>
</Layout>
